#! /bin/bash

# bash ----------------------------------------------------------------------------------------------

set -o errexit -o nounset -o pipefail
[[ -t 0 ]] && [[ -t 1 ]] && stty sane


# location ------------------------------------------------------------------------------------------

readonly _this=$( realpath "${BASH_SOURCE[0]}" )
readonly _basename=$( basename "${_this}" )
readonly _dirname=$( dirname "${_this}" )
readonly _root=$( dirname "${_dirname}" )


# execute -------------------------------------------------------------------------------------------

[[ ${#} -lt 1 ]] && exit 0

argv=(
    env
        PYTHONDONTWRITEBYTECODE="1"
        PYTHONHASHSEED="0"
        PYTHONNOUSERSITE="1"
        PYTHONPATH="${_root}/src/python/main"
    "${_root}/.venv/bin/${1}"
)
argv+=( "${@:2}" )
"${argv[@]}"

